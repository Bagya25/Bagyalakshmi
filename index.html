<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Astrology Prediction — Personalized Guidance</title>
    <meta
      name="description"
      content="Submit your birth details to receive a structured astrology-style prediction via email."
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="site-header">
      <div class="container header-grid">
        <div>
          <div class="brand">
            <div class="brand-mark" aria-hidden="true">✶</div>
            <div class="brand-text">
              <div class="brand-title">Astrology Prediction</div>
              <div class="brand-subtitle">Personalized guidance, delivered to your inbox</div>
            </div>
          </div>
        </div>
        <div class="header-note" role="note">
          <strong>Note:</strong> Predictions are generated by an AI workflow and are for guidance only.
        </div>
      </div>
    </header>

    <main id="main" class="container">
      <section class="hero">
        <h1>Request a personalized prediction</h1>
        <p>
          Provide the details below. We’ll generate a structured, readable prediction and email it to you.
          Time of birth and gender are optional, but can improve specificity.
        </p>
      </section>

      <section class="card" aria-labelledby="formTitle">
        <div class="card-header">
          <h2 id="formTitle">Your details</h2>
          <p class="muted">
            Required fields are marked with <span class="req">*</span>. Please double-check email spelling.
          </p>
        </div>

        <form id="astroForm" novalidate>
          <div class="grid">
            <div class="field">
              <label for="fullName">Full name <span class="req">*</span></label>
              <input id="fullName" name="fullName" type="text" autocomplete="name" required maxlength="80" />
              <div class="help">Your name as you’d like it shown in the email.</div>
              <div class="error" id="err-fullName" aria-live="polite"></div>
            </div>

            <div class="field">
              <label for="email">Email address <span class="req">*</span></label>
              <input id="email" name="email" type="email" autocomplete="email" required maxlength="120" />
              <div class="help">We’ll send your prediction here.</div>
              <div class="error" id="err-email" aria-live="polite"></div>
            </div>

            <div class="field">
              <label for="dob">Date of birth <span class="req">*</span></label>
              <input id="dob" name="dob" type="date" required />
              <div class="help">Example: 1998-04-27</div>
              <div class="error" id="err-dob" aria-live="polite"></div>
            </div>

            <div class="field">
              <label for="tob">Time of birth (optional)</label>
              <input id="tob" name="tob" type="time" />
              <div class="help">If unknown, leave blank.</div>
              <div class="error" id="err-tob" aria-live="polite"></div>
            </div>

            <div class="field">
              <label for="pob">Place of birth <span class="req">*</span></label>
              <input
                id="pob"
                name="pob"
                type="text"
                required
                maxlength="120"
                placeholder="City, State/Province, Country"
              />
              <div class="help">Example: Jaipur, Rajasthan, India</div>
              <div class="error" id="err-pob" aria-live="polite"></div>
            </div>

            <div class="field">
              <label for="gender">Gender (optional)</label>
              <select id="gender" name="gender">
                <option value="">Prefer not to say</option>
                <option value="female">Female</option>
                <option value="male">Male</option>
                <option value="non_binary">Non-binary</option>
                <option value="other">Other</option>
              </select>
              <div class="help">Used only for tone/wording if relevant.</div>
              <div class="error" id="err-gender" aria-live="polite"></div>
            </div>

            <div class="field">
              <label for="focus">Area of focus <span class="req">*</span></label>
              <select id="focus" name="focus" required>
                <option value="" selected disabled>Select one</option>
                <option value="career">Career</option>
                <option value="health">Health</option>
                <option value="relationships">Relationships</option>
                <option value="finance">Finance</option>
                <option value="education">Education</option>
                <option value="family">Family</option>
                <option value="personal_growth">Personal growth</option>
              </select>
              <div class="help">We’ll prioritize this in the prediction.</div>
              <div class="error" id="err-focus" aria-live="polite"></div>
            </div>

            <div class="field">
              <label for="notes">Optional notes</label>
              <textarea
                id="notes"
                name="notes"
                rows="4"
                maxlength="500"
                placeholder="Anything you want the astrologer to consider (e.g., current goals, a question, constraints)."
              ></textarea>
              <div class="help">Max 500 characters. Don’t include passwords or sensitive IDs.</div>
              <div class="error" id="err-notes" aria-live="polite"></div>
            </div>
          </div>

          <details class="advanced">
            <summary>Advanced: workflow endpoint</summary>
            <p class="muted">
              Your form sends data to an n8n Webhook URL. You can set it once and it will be saved in this browser.
            </p>
            <div class="field">
              <label for="webhookUrl">n8n Webhook URL <span class="req">*</span></label>
              <input
                id="webhookUrl"
                name="webhookUrl"
                type="url"
                placeholder="https://your-n8n-domain/webhook/astrology"
                required
              />
              <div class="help">Example: https://example.com/webhook/astrology</div>
              <div class="error" id="err-webhookUrl" aria-live="polite"></div>
            </div>
          </details>

          <div class="actions">
            <button id="submitBtn" type="submit">Generate & email my prediction</button>
            <button id="resetBtn" type="button" class="ghost">Reset</button>
          </div>

          <div class="status" id="status" aria-live="polite" role="status"></div>
        </form>
      </section>

      <section class="card subtle" aria-labelledby="privacyTitle">
        <h2 id="privacyTitle">Privacy & safety</h2>
        <ul class="list">
          <li><strong>We only use your data</strong> to generate and email your prediction.</li>
          <li><strong>No absolute claims:</strong> the workflow is instructed to avoid harmful or extreme language.</li>
          <li><strong>Guidance disclaimer</strong> is included at the end of each email.</li>
        </ul>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <div class="muted">Built with HTML/CSS/JS + n8n automation.</div>
        <div class="muted">© <span id="year"></span></div>
      </div>
    </footer>

    <script src="./script.js" defer></script>
  </body>
</html>
